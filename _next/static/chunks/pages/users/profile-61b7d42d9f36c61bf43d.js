(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[529],{7558:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return h}});var r=t(7294),a=t(9704),i=t(6177),u=t(266),s=t(809),c=t.n(s),d=t(5742),f=t(4920),l=t(5893),o=function(e){var n=(0,a.I0)(),t=(0,a.v9)(i.PR).user,s=e.image,o=(0,r.useCallback)((function(r){var a=r.target.files,u=new Blob(a,{type:"image/jpeg"}),s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",c=Array.from(crypto.getRandomValues(new Uint32Array(16))).map((function(e){return s[e%s.length]})).join(""),f=d.tO.ref("images").child(c).put(u);f.then((function(){f.snapshot.ref.getDownloadURL().then((function(r){var a={id:c,path:r};e.setImage(a);var u={uid:t.uid,image:{id:c,path:r}};n((0,i.hn)(u))}))}))}),[n,e,t.uid]),h=(0,r.useCallback)(function(){var r=(0,u.Z)(c().mark((function r(a){var u;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(window.confirm("\u3053\u306e\u753b\u50cf\u3092\u524a\u9664\u3057\u307e\u3059\u304b\uff1f")){r.next=5;break}return r.abrupt("return",!1);case 5:return e.setImage({id:"",path:""}),u={uid:t.uid,image:{id:a,path:""}},r.next=9,n((0,i.x1)(u));case 9:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),[n,e,t.uid]);return(0,l.jsx)("div",{children:(0,l.jsx)(f.Z,{upload:o,delete:h,image:s})})},h=function(){(0,a.I0)();var e=(0,a.v9)(i.PR).user,n=(0,r.useState)({id:"",path:""}),t=n[0],u=n[1];return(0,r.useEffect)((function(){e.image.path&&u(e.image)}),[e.image]),(0,l.jsx)("div",{className:"w-full h-screen flex items-center justify-center bg-black",children:e&&(0,l.jsxs)("div",{className:"",children:[(0,l.jsx)(o,{image:t,setImage:u,required:!0}),(0,l.jsxs)("div",{className:"text-center text-white",children:[(0,l.jsx)("h2",{className:"text-5xl",children:e.username}),(0,l.jsx)("p",{children:e.email})]})]})})}},8659:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users/profile",function(){return t(7558)}])}},function(e){e.O(0,[774,888,179],(function(){return n=8659,e(e.s=n);var n}));var n=e.O();_N_E=n}]);